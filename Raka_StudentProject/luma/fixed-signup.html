<!DOCTYPE html>
<html lang="en" dir="ltr">
    

<head>
    <meta charset="utf-8">
    
    <title>Sign Up</title>

    <!-- Prevent the demo from appearing in search engines -->
    <meta name="robots" content="noindex">

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CRoboto:400,500%7CExo+2:600&amp;display=swap" rel="stylesheet">

    <!-- Perfect Scrollbar -->
    <link type="text/css" href="assets/vendor/perfect-scrollbar.css" rel="stylesheet">

    <!-- Fix Footer CSS -->
    

    <!-- Material Design Icons -->
    <link type="text/css" href="assets/css/material-icons.css" rel="stylesheet">


    <!-- Font Awesome Icons -->
    <link type="text/css" href="assets/css/fontawesome.css" rel="stylesheet">


    <!-- Preloader -->
    


    <!-- App CSS -->
    <link type="text/css" href="assets/css/app.css" rel="stylesheet">
    
</head>
<body>

    <!-- Header Layout -->
    <div class="mdk-header-layout js-mdk-header-layout">

        <!-- Header -->

        <div id="header" class="mdk-header js-mdk-header mb-0" >
            <div class="mdk-header__content">



                <div class="navbar navbar-expand navbar-dark-dodger-blue navbar-shadow" id="default-navbar">
                    <!-- Navbar Brand -->
                    <a href="fixed-index.html" class="navbar-brand mr-16pt">
                        <!-- <img class="navbar-brand-icon" src="assets/images/logo/white-100@2x.png" width="30" alt="Luma"> -->

                        <span class="avatar avatar-sm navbar-brand-icon mr-0 mr-lg-8pt">

                            <span class="avatar-title rounded bg-primary"><img src="assets/images/illustration/student/128/white.svg" alt="logo" class="img-fluid" /></span>

                        </span>

                        <span class="d-none d-lg-block">Luma</span>
                    </a>
                    <ul class="nav navbar-nav ml-auto mr-0">
                        <li class="nav-item">
                            <a href="fixed-login.html" class="nav-link" data-toggle="tooltip" data-title="Login" data-placement="bottom" data-boundary="window"><i class="material-icons">lock_open</i></a>
                        </li>
                        <li class="nav-item active">
                            <a href="fixed-signup.html" class="btn btn-outline-white">Get Started</a>
                        </li>
                    </ul>
                </div>

            </div>
        </div>

        <!-- // END Header -->

        <!-- Header Layout Content -->
        <div class="container ">
            <br>
            <br>
            <br>
            <br>

                <form class="container">
                    <div class="form">
                        <label class="form-label" for="name">Your first and last name (min. 3 characters):</label>
                        <input id="id_name" type="text" class="form-control" placeholder="Your first and last name ...">
                    </div>
                    <div class="form">
                        <label class="form-label" for="email">Your email:</label>
                        <input id="id_email" type="email" class="form-control" placeholder="Your email address ...">
                    </div>
                    <div class="form">
                        <label class="form-label" for="password">Password (min. 8 characters):</label>
                        <input id="id_password" type="password" class="form-control" placeholder="Your password ...">
                    </div>
                </form>
            <button class="btn btn-primary" onclick="RegisterAccount()">Create account</button>
                
        </div>

        <div class="js-fix-footer2 bg-white border-top-2">
            <div class="container page__container page-section d-flex flex-column">
                <p class="text-70 brand mb-24pt">
                    <img class="brand-icon" src="assets/images/logo/black-70@2x.png" width="30" alt="Luma"> Luma
                </p>
                <p class="measure-lead-max text-50 small mr-8pt">Luma is a beautifully crafted user interface for modern Education Platforms, including Courses & Tutorials, Video Lessons, Student and Teacher Dashboard, Curriculum Management, Earnings and Reporting, ERP, HR, CMS, Tasks, Projects, eCommerce and more.</p>
                <p class="mb-8pt d-flex">
                    <a href="" class="text-70 text-underline mr-8pt small">Terms</a>
                    <a href="" class="text-70 text-underline small">Privacy policy</a>
                </p>
                <p class="text-50 small mt-n1 mb-0">Copyright 2019 &copy; All rights reserved.</p>
            </div>
        </div>
    </div>
    <script type="text/javascript" async>
        function RegisterAccount(){
            var url  = "http://localhost:3000/api/accounts/";
            var data = {username: document.getElementById('id_name').value, email: document.getElementById('id_email').value, password: document.getElementById('id_password').value };
            var jsonData = JSON.stringify(data);

            var xhr  = new XMLHttpRequest();
            xhr.open('POST', url);
            xhr.setRequestHeader('Content-type','application/json; charset=utf-8');      
            xhr.send(jsonData);             
            xhr.onload = function() {
                var account = JSON.parse(xhr.responseText);
                if (account.status == 200) {
                    alert('Registration successful!' + account.id);
                    localStorage.setItem('userID', account.id);
                    window.location.replace("fixed-signup-payment.html");
                } else {
                    alert('Registration failed! '+ ' Reason: '+ xhr.responseText);
                }
            }                        
        }
    </script>
    
    </body>
</html>